(this["webpackJsonpcoronavirus-stats"]=this["webpackJsonpcoronavirus-stats"]||[]).push([[0],{116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},239:function(e,t,a){},241:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(17),o=a.n(c),l=a(5),u=a(80),s=a.n(u),i=a(86),d=(a(36),a(116),a(81)),m=a.n(d),f=(a(117),function(e,t,a){return e[t].locations.find((function(e){return e.country===a}))}),p=function(e){if(void 0!==e){var t=e.slice(0,4),a=e.slice(5,7),r=e.slice(8,10);return"".concat(a,"/").concat(r,"/").concat(t)}},y=function(e){if(void 0!==e){var t=e.slice(11,13),a=e.slice(14,16),r=e.slice(17,19);return"".concat(t,":").concat(a,":").concat(r)}},E=function(e){var t=Object.keys(e.history).map((function(t){return{date:t,number:e.history[t]}}));t=t.sort((function(e,t){return new Date(e.date)-new Date(t.date)}));var a=(t=Object.values(t)).map((function(e){return e.date})),r=t.map((function(e){return e.number}));return[e,a,r]},b=function(e){if(void 0!==e&&null!==e)return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},C=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=(100*t/e).toFixed(a);return parseFloat(r)},v=function(e){return e[e.length-1]-e[e.length-2]},h=function(e){var t=e.name,a=e.number;return n.a.createElement("p",{className:"card ".concat(t)},n.a.createElement("span",null,a||"no data")," ",t.replace("-"," "))},g=Object(l.b)((function(e){var t=e.apiData;return{error:t.error,numberOfConfirmed:b(t.numberOfConfirmed),numberOfDeaths:b(t.numberOfDeaths),numberOfRecovered:b(t.numberOfRecovered),numberOfCurrentlySick:b(t.numberOfCurrentlySick),lastUpdatedDate:p(t.lastUpdated),lastUpdatedTime:y(t.lastUpdated)}}))((function(e){var t=e.error,a=e.numberOfConfirmed,r=e.numberOfDeaths,c=e.numberOfRecovered,o=e.numberOfCurrentlySick,l=e.lastUpdatedDate,u=e.lastUpdatedTime;return n.a.createElement("div",{className:"sum-data"},n.a.createElement("h2",null,"Corona Virus Statistics"),t?n.a.createElement("p",{style:{color:"#e60036"}},t):null,n.a.createElement("div",{className:"cards-row"},n.a.createElement(h,{name:"confirmed",number:a}),n.a.createElement(h,{name:"deaths",number:r})),n.a.createElement("div",{className:"cards-row"},n.a.createElement(h,{name:"recovered",number:c}),n.a.createElement(h,{name:"currently-sick",number:o})),l&&u?n.a.createElement("p",null,"Last update",n.a.createElement("span",{title:"DD/MM/YYYY"}," ",l," "),"in",n.a.createElement("span",{title:"HH/MM/SS"}," ",u),"."):null)})),N=(a(118),a(88)),O=a(82),D=Object(l.b)((function(e){return{data:e.apiData.data}}),(function(e){return{selectedCountryDispatchToStore:function(t,a){return e(function(e,t){return{type:"SELECTED_COUNTRY",selectedCountry:{allData:e,country:t}}}(t,a))},getSelectedCountryPopulation:function(t){return e(function(e){return{type:"GET_SELECTED_COUNTRY_POPULATION_DATA_REQUEST",selectedCountryCode:e}}(t))}}}))((function(e){var t,a=e.data,r=e.country,c=Object(N.a)(e,["data","country"]);return n.a.createElement("div",{className:"country-row",onClick:(t=r,function(){c.selectedCountryDispatchToStore(a,t),c.getSelectedCountryPopulation(t.country_code),/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)&&O.scroller.scrollTo("main-content",{duration:1e3,smooth:!0,offset:50})}),title:"".concat(b(r.latest)," confirmed cases in ").concat(r.country)},n.a.createElement("img",{src:"https://www.countryflags.io/".concat(r.country_code,"/flat/32.png"),alt:r.country_code}),n.a.createElement("p",null,n.a.createElement("strong",null,r.country),n.a.createElement("span",{className:"numbers"},b(r.latest))))})),T=function(e){var t=e.countryList;return n.a.createElement("div",{className:"country-list"},t&&t.map((function(e,t){return n.a.createElement(D,{key:t,country:e})})))},S=Object(l.b)((function(e){return{countryConfirmedDataSum:e.apiData.countryConfirmedDataSum}}))((function(e){var t=e.countryConfirmedDataSum,a=Object(r.useState)(t),c=Object(i.a)(a,2),o=c[0],l=c[1];return n.a.createElement("div",{className:"col sidebar"},n.a.createElement(g,null),n.a.createElement("div",{className:"input-search"},n.a.createElement("img",{src:m.a,alt:"Search icon"}),n.a.createElement("input",{type:"search",placeholder:"Search country by name",onChange:function(e){var a=e.target.value.toLowerCase(),r=t.filter((function(e){return e.country.toLowerCase().includes(a)}));l(r)}})),n.a.createElement(T,{countryList:o}))})),_=a(83),k=a.n(_),w=(a(143),Object(l.b)((function(e){return{selectedCountry:e.selectedCountry,selectedCountryPopulation:e.countryPopulation.selectedCountryPopulation}}))((function(e){var t=e.selectedCountryPopulation,a=e.selectedCountry,r=a.latest,c=a.country;return r<=0?n.a.createElement("p",{className:"text-in-center"},"No data available"):c?t?void 0:"No Data":n.a.createElement("p",{className:"text-in-center"},"Select country from the country list")}))),A=a(84),x=(a(144),function(){return n.a.createElement("div",{id:"credits"},n.a.createElement("p",{"data-tip":"custom show","data-event":"click focus"},"Credits"),n.a.createElement(A.a,{globalEventOff:"click",place:"left",type:"light",effect:"solid",clickable:!0},n.a.createElement("p",null,"Application made by ",n.a.createElement("a",{href:"https://www.lukazrnic.com",target:"_blank",rel:"noopener noreferrer"},"Luka Zrnic")),n.a.createElement("p",null,"Source code: ",n.a.createElement("a",{href:"https://github.com/Zrna/coronavirus-stats",target:"_blank",rel:"noopener noreferrer"},"coronavirus-stats")),n.a.createElement("p",null,"Data source: ",n.a.createElement("a",{href:"https://github.com/ExpDev07/coronavirus-tracker-api",target:"_blank",rel:"noopener noreferrer"},"coronavirus-tracker-api"))))}),R=(a(145),function(e){var t=e.countryCode,a=e.countryName;return n.a.createElement("div",{className:"country-info-header"},t?n.a.createElement("img",{src:"https://www.countryflags.io/".concat(t,"/flat/32.png"),alt:t}):null,n.a.createElement("h1",null,a))}),j=(a(146),function(e){var t=e.cardText,a=e.cardNumber,r=e.cardName,c=e.totalNumber,o=e.percentageDescription,l=e.smallText,u=t.includes("24h");return n.a.createElement("div",{className:"card"},a>=0?n.a.createElement("p",{className:"country-card-number"},n.a.createElement((function(){return"population infected"===t?"".concat(b(a),"%"):u?"+".concat(b(a)):b(a)}),null),c?n.a.createElement("span",{className:"percentage",title:o?"".concat(C(c,a),"% of total cases"):null},"(",n.a.createElement("span",{className:"".concat(r,"-color"),style:{margin:"0 2px"}},u?"+":null,C(c,a),"%"),")"):null):n.a.createElement("p",{className:"country-card-number"},"no data"),n.a.createElement("span",null,t),l?n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("small",null,l)):null)}),P=Object(l.b)((function(e){var t=e.selectedCountry,a=e.countryPopulation.selectedCountryPopulation;return{selectedCountryConfirmed:t.confirmed,selectedCountryDeaths:t.deaths,selectedCountryRecovered:t.recovered,selectedCountryPopulation:a}}))((function(e){return n.a.createElement("div",{className:"info"},n.a.createElement("div",{className:"country-cards"},n.a.createElement(j,{cardNumber:e.selectedCountryConfirmed.latest,cardText:"Total cases"}),n.a.createElement("div",{className:"arrow-separator"}),n.a.createElement(j,{cardName:"confirmed",cardNumber:e.newCasesLast24h,cardText:"last 24h",totalNumber:e.selectedCountryConfirmed.latest,percentageDescription:!0})),n.a.createElement("div",{className:"country-cards"},n.a.createElement(j,{cardName:"deaths",cardNumber:e.selectedCountryDeaths.latest,cardText:"Deaths",totalNumber:e.selectedCountryConfirmed.latest,percentageDescription:!0}),n.a.createElement("div",{className:"arrow-separator"}),n.a.createElement(j,{cardName:"deaths",cardNumber:e.deathsLast24h,cardText:"last 24h",totalNumber:e.selectedCountryConfirmed.latest})),n.a.createElement("div",{className:"country-cards"},n.a.createElement(j,{cardName:"recovered",cardNumber:e.selectedCountryRecovered.latest,cardText:"Recovered",totalNumber:e.selectedCountryConfirmed.latest,percentageDescription:!0}),n.a.createElement("div",{className:"arrow-separator"}),n.a.createElement(j,{cardName:"recovered",cardNumber:e.recoveredLast24h,cardText:"last 24h",totalNumber:e.selectedCountryConfirmed.latest})),n.a.createElement("div",{className:"country-cards"},n.a.createElement(j,{cardName:"currently-sick",cardNumber:e.currentlySick,cardText:"Currently sick",totalNumber:e.selectedCountryConfirmed.latest,percentageDescription:!0})),n.a.createElement("div",{className:"country-cards"},n.a.createElement(j,{cardName:"country-population",cardNumber:e.selectedCountryPopulation,cardText:"Country population"}),n.a.createElement("div",{className:"arrow-separator"}),n.a.createElement(j,{cardName:"country-population-percentage",cardNumber:C(e.selectedCountryPopulation,e.selectedCountryConfirmed.latest,3),cardText:"population infected",smallText:"(all cases)"})))})),U=a(18),L=function(e){var t={labels:e.labels,datasets:[{backgroundColor:["#3333ff","#571aab","#4fc974"],hoverBackgroundColor:["#0000cc","#2d0d59","#2a8946"],data:[e.data.currentlySick?e.data.currentlySick:null,e.data.deaths?e.data.deaths.latest:null,e.data.recovered?e.data.recovered.latest:null]}]},a={title:{display:!0,text:e.title,fontSize:20,fontColor:"#ccc",fontStyle:"normal"},legend:{display:!0,position:"top"}};return n.a.createElement(U.c,{data:t,width:40,height:10,options:a})},I=function(e){var t={labels:e.labels,datasets:[{fill:!0,lineTension:.5,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:2,pointRadius:2,pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:e.borderColor,data:e.data}]},a={title:{display:!0,text:e.title,fontSize:25,fontColor:"#ccc",fontStyle:"normal"},legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0,precision:0}}]}};return n.a.createElement(U.b,{data:t,width:40,height:20,options:a})},B=function(e){var t={labels:e.labels,datasets:[{backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:1,hoverBackgroundColor:e.borderColor,hoverBorderColor:e.borderColor,data:e.data}]},a={title:{display:!0,text:e.title,fontSize:20,fontColor:"#ccc",fontStyle:"normal"},legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0,precision:0}}]}};return n.a.createElement(U.a,{data:t,width:40,height:20,options:a})},G=Object(l.b)((function(e){var t=e.selectedCountry;return{deaths:t.deaths,recovered:t.recovered}}))((function(e){var t=e.currentlySick,a=e.dailyCases,r=e.sortedConfirmedData,c=e.sortedDeathsData,o=e.sortedRecoveredData,l=e.deaths,u=e.recovered;return n.a.createElement(n.a.Fragment,null,t&&l&&u?n.a.createElement("div",null,n.a.createElement(L,{labels:["Currently sick","Deaths","Recovered"],data:{currentlySick:t,deaths:l,recovered:u},title:"Total data"})):null,n.a.createElement("div",{className:"row"},r?n.a.createElement("div",{className:"col-2"},n.a.createElement(I,{labels:r[1],data:r[2],title:"Total cases",borderColor:"#e60036",backgroundColor:"rgba(230, 0, 54, 0.4)"})):null,r&&a?n.a.createElement("div",{className:"col-2"},n.a.createElement(B,{labels:r[1],data:a,title:"New cases per day",borderColor:"#e60036",backgroundColor:"rgba(230, 0, 54, 0.4)"})):null),n.a.createElement("div",{className:"row"},c?n.a.createElement("div",{className:"col-2"},n.a.createElement(I,{labels:c[1],data:c[2],title:"Total deaths",borderColor:"#571aab",backgroundColor:"rgb(87, 26, 171, 0.4)"})):null,o?n.a.createElement("div",{className:"col-2"},n.a.createElement(I,{labels:o[1],data:o[2],title:"Total recovered",borderColor:"#4fc974",backgroundColor:"rgb(79, 201, 116, 0.4)"})):null))})),Y=Object(l.b)((function(e){var t=e.selectedCountry,a=t.country,r=t.confirmed,n=t.deaths,c=t.recovered;return{selectedCountryName:a.country,selectedCountryCode:a.country_code,selectedCountryConfirmed:r,selectedCountryDeaths:n,selectedCountryRecovered:c}}))((function(e){var t,a=e.selectedCountryName,r=e.selectedCountryCode,c=e.selectedCountryConfirmed,o=e.selectedCountryDeaths,l=e.selectedCountryRecovered,u=E(c),s=E(o),i=E(l),d=c.latest-o.latest-l.latest,m=(t=u[2]).map((function(e,a){return e-t[a-1]})),f=v(u[2]),p=v(s[2]),y=v(i[2]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(x,null),n.a.createElement(R,{countryCode:r,countryName:a}),n.a.createElement(P,{newCasesLast24h:f,deathsLast24h:p,recoveredLast24h:y,currentlySick:d}),n.a.createElement(G,{currentlySick:d,dailyCases:m,sortedConfirmedData:u,sortedDeathsData:s,sortedRecoveredData:i}))})),F=Object(l.b)((function(e){return{country:e.selectedCountry.country}}))((function(e){var t=e.country;return n.a.createElement("div",{className:"col main-content",name:"main-content"},t?n.a.createElement(Y,null):n.a.createElement(w,null),n.a.createElement(k.a,{className:"back-to-top",showAt:200,speed:1500,easing:"easeOutSine"},n.a.createElement("span",null,"\u2191 go to top")))}));var M=Object(l.b)((function(e){var t=e.apiData;return{loading:t.loading,error:t.error}}),(function(e){return{getApiData:function(){return e({type:"GET_API_DATA_REQUEST"})}}}))((function(e){var t=e.getApiData,a=e.error,c=e.loading;return Object(r.useEffect)((function(){t()}),[t]),n.a.createElement("div",{className:"flex-grid"},c?n.a.createElement(s.a,{className:"loader-center",type:"Oval",color:"#eee",height:100,width:100}):n.a.createElement((function(){return a?n.a.createElement("p",{className:"text-in-center",style:{fontSize:"20px"}},a):n.a.createElement(n.a.Fragment,null,n.a.createElement(S,null),n.a.createElement(F,null))}),null))})),z=(a(239),a(10)),H=a(87),Q=a(9),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0,a=Object(Q.a)({},e);switch(t.type){case"GET_API_DATA_SUCCESS":return Object(Q.a)({},a,{loading:!1,data:t.data[0],numberOfConfirmed:t.data[0].latest.confirmed,numberOfDeaths:t.data[0].latest.deaths,numberOfRecovered:t.data[0].latest.recovered,numberOfCurrentlySick:t.data[0].latest.confirmed-t.data[0].latest.recovered-t.data[0].latest.deaths,lastUpdated:t.data[0].confirmed.last_updated,countryConfirmedDataSum:t.data[1][0].countryConfirmedDataSum,countryDeathsDataSum:t.data[1][0].countryDeathsDataSum,countryRecoveredDataSum:t.data[1][0].countryRecoveredDataSum});case"GET_API_DATA_ERROR":return Object(Q.a)({},a,{loading:!1,error:t.error});default:return a}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object(Q.a)({},e);switch(t.type){case"SELECTED_COUNTRY":return Object(Q.a)({},a,{country:t.selectedCountry.country,confirmed:f(t.selectedCountry.allData,"confirmed",t.selectedCountry.country.country),deaths:f(t.selectedCountry.allData,"deaths",t.selectedCountry.country.country),recovered:f(t.selectedCountry.allData,"recovered",t.selectedCountry.country.country)});default:return a}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object(Q.a)({},e);switch(t.type){case"GET_SELECTED_COUNTRY_POPULATION_DATA_SUCCESS":return Object(Q.a)({},a,{selectedCountryPopulation:t.data.country_population});case"GET_SELECTED_COUNTRY_POPULATION_DATA_ERROR":return Object(Q.a)({},a,{error:t.error});default:return a}},V=Object(z.c)({apiData:W,selectedCountry:X,countryPopulation:Z}),J=a(7),K=a.n(J),q=a(8),$=K.a.mark(ae),ee=K.a.mark(re);function te(e,t){return e[t].locations.reduce((function(e,t){var a=e.find((function(e){return e.country===t.country}));return a?(a.latest+=t.latest,a.province="",Object.keys(a.history).map((function(e){return a.history[e]+=t.history[e]}))):e.push(t),e}),[]).sort((function(e,t){return parseFloat(t.latest)-parseFloat(e.latest)}))}function ae(){var e;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://coronavirus-tracker-api.herokuapp.com/all").then((function(e){return e.json()})).then((function(e){return[e,[{countryConfirmedDataSum:te(e,"confirmed"),countryDeathsDataSum:te(e,"deaths"),countryRecoveredDataSum:te(e,"recovered")}]]})).catch((function(e){return console.log(e)}));case 3:return e=t.sent,t.next=6,Object(q.c)({type:"GET_API_DATA_SUCCESS",data:e});case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),console.log("getApiData saga Error: ",t.t0),t.next=13,Object(q.c)({type:"GET_API_DATA_ERROR",error:"Something went wrong while retrieving API data. Try again."});case 13:case"end":return t.stop()}}),$,null,[[0,8]])}function re(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)("GET_API_DATA_REQUEST",ae);case 2:case"end":return e.stop()}}),ee)}var ne=K.a.mark(oe),ce=K.a.mark(le);function oe(e){var t;return K.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("https://coronavirus-tracker-api.herokuapp.com/v2/locations?country_code=".concat(e.selectedCountryCode)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 3:return t=a.sent,a.next=6,Object(q.c)({type:"GET_SELECTED_COUNTRY_POPULATION_DATA_SUCCESS",data:t.locations[0]});case 6:a.next=13;break;case 8:return a.prev=8,a.t0=a.catch(0),console.log("getApiData saga Error: ",a.t0),a.next=13,Object(q.c)({type:"GET_SELECTED_COUNTRY_POPULATION_DATA_ERROR",error:"Something went wrong while retrieving API data."});case 13:case"end":return a.stop()}}),ne,null,[[0,8]])}function le(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)("GET_SELECTED_COUNTRY_POPULATION_DATA_REQUEST",oe);case 2:case"end":return e.stop()}}),ce)}var ue=K.a.mark(se);function se(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.a)([Object(q.b)(re),Object(q.b)(le)]);case 2:case"end":return e.stop()}}),ue)}var ie=Object(H.a)(),de=Object(z.e)(V,Object(z.d)(Object(z.a)(ie),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));ie.run(se);var me=de;o.a.render(n.a.createElement(l.a,{store:me},n.a.createElement(M,null)),document.getElementById("root"))},36:function(e,t,a){},81:function(e,t,a){e.exports=a.p+"static/media/search.19184702.svg"},89:function(e,t,a){e.exports=a(241)}},[[89,1,2]]]);
//# sourceMappingURL=main.2a363882.chunk.js.map